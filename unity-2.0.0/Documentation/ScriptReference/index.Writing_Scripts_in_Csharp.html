<!-- #BeginTemplate "/Templates/manual-scriptref-page.dwt" --><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<!-- #TemplateBeginEditable name="doctitle" -->
			<title>Unity Script Reference &ndash; Overview: Writing Scripts in C#</title>
	<!-- #TemplateEndEditable -->
<link rel="StyleSheet"  href="docs.css" type="text/css" />
</head>
<body>


<table class="titlebar" cellpadding=0 cellspacing=0 border=0><tr>
	<td class="titleleft"><img src="../Images/top/left.png"></td>
	<td><a href="../../Documentation.html"><img src="../Images/top/logo.png"></a></td>
	<td class="titlemid">
		<table><tr>
			<td class="doctitle">Overview: Writing Scripts in C#</td>
			<td class="Scripting" align="right"><a href="../Manual/index.html" title="Go to Unity manual"><img src="../Images/spacer.gif" width="72" height="36" class="manual" border="0"></a></td>
			<td class="Scripting" width="94"><a href="../Components/index.html" title="Go to Reference"><img src="../Images/spacer.gif" width="94" height="36" class="reference" border="0"></a></td>
			<td class="Scripting" width="82"><a href="../ScriptReference/index.html" title="Go to Scripting Reference"><img src="../Images/spacer.gif" width="82" height="36" class="scripting" border="0"></a></td>
		</tr><tr>
			<td colspan="4">
				<table width="100%" class="docpath"><tr><td >
					<!-- #TemplateBeginEditable name="path" -->
						<a href="index.html">Scripting</a>
					<!-- #TemplateEndEditable -->	
				</td>
				</td><td class="switchlink">
					<!--BeginSwitchLink--><!--EndSwitchLink-->
				</td></tr></table>
			</td>
		</tr></table>
	</td>
	<td class="titleright" width="9"><img src="../Images/top/right.png"></td>
</tr></table>
<div class="scriprefmain">
		<span class="heading">
			<!-- #TemplateBeginEditable name="title" -->
				Overview: Writing Scripts in C#
			<!-- #TemplateEndEditable -->	
		</span>
<!-- #TemplateBeginEditable name="details" -->
	<span class="text"></span>
<!-- #TemplateEndEditable -->	

	<!-- #TemplateBeginEditable name="manual-top-nav" --><div class="left-menu-container"><ul class="left-menu"><li>
<form class="apisearch" action="30_search.html" method="GET">
	<input type="search" name="q" placeholder="Search" autosave="Unity Reference" results="5" class="sbox" id="q" />
				
	<script type="text/javascript" language="JavaScript">
	<!--
	function detect() {
		// simplify things
		var agent 	= navigator.userAgent.toLowerCase();
		
		// detect platform
		this.isMac		= (agent.indexOf('mac') != -1);
		this.isWin		= (agent.indexOf('win') != -1);
		this.isWin2k	= (this.isWin && (
				agent.indexOf('nt 5') != -1));
		this.isWinSP2	= (this.isWin && (
				agent.indexOf('xp') != -1 || 
				agent.indexOf('sv1') != -1));
		this.isOther	= (
				agent.indexOf('unix') != -1 || 
				agent.indexOf('sunos') != -1 || 
				agent.indexOf('bsd') != -1 ||
				agent.indexOf('x11') != -1 || 
				agent.indexOf('linux') != -1);
		
		// detect browser
		this.isSafari	= (agent.indexOf('safari') != -1);
		this.isSafari2 = (this.isSafari && (parseFloat(agent.substring(agent.indexOf("applewebkit/")+"applewebkit/".length,agent.length).substring(0,agent.substring(agent.indexOf("applewebkit/")+"applewebkit/".length,agent.length).indexOf(' '))) >=  300));
		this.isOpera	= (agent.indexOf('opera') != -1);
		this.isNN		= (agent.indexOf('netscape') != -1);
		this.isIE		= (agent.indexOf('msie') != -1);
	}
	var browser = new detect();
	var str = "Search";
	var q=document.getElementById('q');
	if (!browser.isSafari2) {q.value=str;q.onfocus=function(){q.value="";q.style.color="#000";};}
	//-->
	</script>
</form>
</li><li><span class="left-menu-heading">Menu</span></li><li><a title="Scripting overview" class="left-menu-item" href="index.html">Overview</a></li><li><a title="List of scripting classes" class="left-menu-item" href="20_class_hierarchy.html">Runtime Classes</a></li><li><a title="Classes for extending Unity editor" class="left-menu-item" href="20_class_hierarchy.Editor_Classes.html">Editor Classes</a></li><li><a title="List of enumerations" class="left-menu-item" href="20_class_hierarchy.Enumerations.html">Enumerations</a></li><li><a title="Alphabetical index" class="left-menu-item" href="10_reference.html">Index</a></li><li><span class="left-menu-seperator"></span></li><li><a class="left-menu-heading" href="index.html">Scripting Overview</a></li><li><a title="Common Operations" class="left-menu-item" href="index.Common_Operations.html">Common Operations</a></li><li><a title="Keeping Track of Time" class="left-menu-item" href="index.Keeping_Track_of_Time.html">Time</a></li><li><a title="Accessing Other Components" class="left-menu-item" href="index.Accessing_Other_Components.html">Accessing Components</a></li><li><a title="Accessing Other Game Objects" class="left-menu-item" href="index.Accessing_Other_Game_Objects.html">Accessing Objects</a></li><li><a title="Vectors" class="left-menu-item" href="index.Vectors.html">Vectors</a></li><li><a title="Member Variables & Global Variables" class="left-menu-item" href="index.Member_Variables_26_Global_Variables.html">Variables</a></li><li><a title="Instantiate" class="left-menu-item" href="index.Instantiate.html">Instantiate</a></li><li><a title="Coroutines & Yield" class="left-menu-item" href="index.Coroutines_26_Yield.html">Coroutines & Yield</a></li><li><span title="Writing Scripts in C#" class="left-menu-item left-menu-current">Using C#</span></li><li><a title="The most important classes" class="left-menu-item" href="index.The_most_important_classes.html">Important Classes</a></li><li><a title="Performance Optimization" class="left-menu-item" href="index.Performance_Optimization.html">Performance Optimization</a></li><li><a title="Script compilation (Advanced)" class="left-menu-item" href="index.Script_compilation_28Advanced29.html">Script Compilation</a></li></ul></div>
	<!-- #TemplateEndEditable --><div class="pre-next-link"><b>Previous:</b> <a href="index.Coroutines_26_Yield.html">Coroutines & Yield</a> <b>Next:</b> <a href="index.The_most_important_classes.html">Important Classes</a></div>
   <p class="basic"> 
</p><p class="basic">
Apart from syntax, there are some differences when writing scripts in C# or Boo. Most notable are:
</p><p class="basic">
<strong>1. Inherit from <a href="MonoBehaviour.html" class="classlink">MonoBehaviour</a>.</strong>
</p><p class="basic">
All behaviour scripts must inherit from MonoBehaviour (directly or indirectly). This happens automatically in Javascript, but must be explicitly explicitly inside C# or Boo scripts. If you create your script inside Unity through the <tt>Asset -> Create -> C Sharp/Boo Script</tt> menu, the created template will already contain the necessary definition.
</p><div class="code"><span class="hl-keyword">public</span> <span class="hl-keyword">class</span> NewBehaviourScript : <a href="MonoBehaviour.html" class="classlink">MonoBehaviour</a> {...} <span class="hl-comment">// C#</span><span class="hl-comment"><br/></span><br/><span class="hl-keyword">class</span> NewBehaviourScript (<a href="MonoBehaviour.html" class="classlink">MonoBehaviour</a>):  ... # Boo<br/></div><p class="basic">
<strong>2. Use the Awake or Start function to do initialisation.</strong>
</p><p class="basic">
What you would put outside any functions in Javascript, you put inside <a href="MonoBehaviour.Awake.html?from=index" class="itemlink">Awake</a> or <a href="MonoBehaviour.Start.html?from=index" class="itemlink">Start</a> function in C# or Boo.
</p><p class="basic">
The difference between <span class="variable">Awake</span> and <span class="variable">Start</span> is that <span class="variable">Awake</span> is run when a scene is loaded and <span class="variable">Start</span> is called just before the first call to an <span class="variable">Update</span> or a <span class="variable">FixedUpdate</span> function. All <span class="variable">Awake</span> functions are called before any <span class="variable">Start</span> functions are called.
</p><p class="basic">
<strong>3. The class name must match the file name.</strong>
</p><p class="basic">
In Javascript, the class name is implicitly set to the file name of the script (minus the file extension). This must be done manually in C# and Boo.
</p><p class="basic">
<strong>4. Coroutines have a different syntax in C#.</strong>
</p><p class="basic">
Coroutines have to have a return type of <span class="variable">IEnumerator</span> and you yield using <tt>yield return ... ;</tt> instead of just <tt>yield ... ;</tt>.
</p><div class="code">using System.Collections;<br/>using UnityEngine;<br/><span class="hl-keyword">public</span> <span class="hl-keyword">class</span> NewBehaviourScript : <a href="MonoBehaviour.html" class="classlink">MonoBehaviour</a> {<br/>    <span class="hl-comment">// C# coroutine</span><span class="hl-comment"><br/></span>    IEnumerator SomeCoroutine () {<br/>        <span class="hl-comment">// Wait for one frame</span><span class="hl-comment"><br/></span>        <span class="hl-keyword">yield</span> <span class="hl-keyword">return</span> 0;<br/>        <br/>        <span class="hl-comment">// Wait for two seconds</span><span class="hl-comment"><br/></span>        <span class="hl-keyword">yield</span> <span class="hl-keyword">return</span> <span class="hl-keyword">new</span> <a href="WaitForSeconds.html" class="classlink">WaitForSeconds</a> (2);<br/>    }<br/>}<br/></div><p class="basic">
<strong>5. Don't use namespaces.</strong>
</p><p class="basic">
Unity doesn't support placing your scripts inside of a namespace at the moment.
This requirement will be removed in a future version.
</p><p class="basic">
<strong>6. Only member variables are serialized and are shown in the Inspector.</strong>
</p><p class="basic">
Private and protected member variables are shown only in Expert Mode.
Properties are not serialized or shown in the inspector.
</p><p class="basic">
<strong>7. Avoid using the constructor.</strong>
</p><p class="basic">
Never initialize any values in the constructor. Instead use Awake or Start for this purpose.
Unity automatically invokes the constructor even when in edit mode. This usually happens directly after compilation of a script,
because the constructor needs to be invoked in order to retrieve default values of a script. Not only will the constructor be called at unforeseen times,
it might also be called for prefabs or inactive game objects.
</p><p class="basic">
In the case of eg. a singleton pattern using the constructor this can have severe consequences and lead to seemingly random null reference exceptions.
</p><p class="basic">
So if you want to implement eg. a singleton pattern <b>do not</b> use the the constructor, instead use <a href="MonoBehaviour.Awake.html?from=index" class="itemlink">Awake</a>.
Actually there is no reason why you should ever have any code in a constructor for a class that inherits from <a href="MonoBehaviour.html" class="classlink">MonoBehaviour</a>.
</p><p class="basic">
</p>
<div class="pre-next-link"><b>Previous:</b> <a href="index.Coroutines_26_Yield.html">Coroutines & Yield</a> <b>Next:</b> <a href="index.The_most_important_classes.html">Important Classes</a></div>
	
	</div><!-- #TemplateEndEditable -->
</body>
</html><!-- #EndTemplate -->

