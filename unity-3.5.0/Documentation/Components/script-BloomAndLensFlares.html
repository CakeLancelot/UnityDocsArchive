<!-- #BeginTemplate "/Templates/manual-page.dwt" --><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<!-- #TemplateBeginEditable name="doctitle" -->
		<title>Unity - Bloom and Lens Flares</title>
	<!-- #TemplateEndEditable -->
</head>
<link rel="StyleSheet"  href="../Images/docs.css" type="text/css" />
<body onLoad="DocLoaded();">
<table class="titlebar" cellpadding=0 cellspacing=0 border=0><tr>
	<td class="titleleft"><img src="../Images/top/left.png"></td>
	<td><a href="../../Documentation.html"><img src="../Images/top/logo.png"></a></td>
	<td class="titlemid">
		<table><tr>
			<td class="doctitle">Bloom and Lens Flares</td>
			<td><table align="right"><tr>
			<!-- #TemplateBeginEditable name="sections-nav" -->
			<td class="Components"><a href="../Manual/index.html" title="Go to Unity manual" class="scripting-anchor"><img src="../Images/spacer.gif" class="manual" border="0"><span class="manual-text">Manual</span></a><span class="docs-navigation">&nbsp;&nbsp;&nbsp;&nbsp;</span></td>
			<td class="Components"><a href="../Components/index.html" title="Go to Reference" class="scripting-anchor"><img src="../Images/spacer.gif" class="reference" border="0"><span class="components-text">Reference</span></a><span class="docs-navigation">&nbsp;&nbsp;&nbsp;&nbsp;</span></td>
			<td class="Components"><a href="../ScriptReference/index.html" title="Go to Scripting Reference" class="scripting-anchor"><img src="../Images/spacer.gif" class="scripting" border="0"><span class="scripting-text">Scripting &nbsp;&nbsp;</span></a></td>
			<!-- #TemplateEndEditable -->	
			</tr></table></td>
		</tr><tr>
			<td colspan="4">
				<table width="100%" class="docpath"><tr><td >
		<!-- #TemplateBeginEditable name="path" -->
					<a href="../Components/index.html">Reference Manual</a> &gt; <a href="../Components/Components.html">Components</a> &gt; <a href="../Components/comp-ImageEffects.html">Image Effect Scripts</a> &gt; <a href="../Components/script-BloomAndLensFlares.html">Bloom and Lens Flares</a>
		<!-- #TemplateEndEditable -->	
				</td>
				</td><td class="switchlink">
					<!-- #TemplateBeginEditable name="switchLink" -->
					<!--BeginSwitchLink--><!--EndSwitchLink-->
					<!-- #TemplateEndEditable -->	
				</td></tr></table>
			</td>
		</tr></table>
	</td>
	<td class="titleright" width="9"><img src="../Images/top/right.png"></td>
</tr></table>
<div class="manual">
	<div class="main">

		<!-- #TemplateBeginEditable name="navigation" -->
		<div class="nav">  </div>
		<!-- #TemplateEndEditable -->	
		<!-- #TemplateBeginEditable name="title" -->
			<h1>Bloom and Lens Flares</h1>
		<!-- #TemplateEndEditable -->	
		<!-- #TemplateBeginEditable name="body" -->
			
<p><span class='doc-prop'>Blooming</span> is the optical effect where light from a bright source (such as a glint) appears to leak into surrounding objects. The <span class='doc-keyword'>Bloom and Lens Flares</span> image effect adds bloom and also automatically generates lens flares in a highly efficient way. Bloom is a very distinctive effect that can make a big difference to a scene and may suggest a magical or dreamlike environment especially when used in conjunction with <a href="../Manual/HDR.html">HDR</a> rendering. Bloom and Lens Flares is actually an enhanced version of the <a href="../Components/script-GlowEffect.html">Glow image effect</a> which offers greater control over the bloom at the expense of rendering performance.
</p>
<div class='vspace'></div><div><img class='figure' src='../Images/manual/script-BloomAndLensFlares-0.jpg' /><br /><em>Example showing how <span class='doc-keyword'>Bloom and Lens Flares</span> can give a soft glow using the new <span class='doc-prop'>Screen</span> blend mode. The new anamorphic lens flare type helps evoke a cinematic feeling.</em></div>
<p class='vspace'>As with the other <a href="../Components/comp-ImageEffects.html">image effects</a>, this effect is only available in Unity Pro and you must have the <a href="../Manual/HOWTO-InstallStandardAssets.html">Pro Standard Assets</a> installed before it becomes available.
</p>
<div class='vspace'></div><h2>Properties</h2>
<table width='100%'><tr class='tableheader'><td  class='prop'></td><td class='function'></td></tr>
<tr ><td  align='left'><span class='doc-prop'>Tweak Mode</span></td><td  align='left'>Choose complex mode for additional options such as lens flares.</td></tr>
<tr ><td  align='left'><span class='doc-prop'>Blend mode</span></td><td  align='left'>The method used to add bloom to the color buffer. The softer <span class='doc-prop'>Screen</span> mode is better for preserving bright image details but doesn't work with HDR.</td></tr>
<tr ><td  align='left'><span class='doc-prop'>HDR</span></td><td  align='left'>Whether bloom is using HDR buffers. This will result in a different look as pixel intensities may leave the [0,1] range, see details in <a href="../Components/script-Tonemapping.html">tonemapping</a> and <a href="../Manual/HDR.html">HDR</a>.</td></tr>
<tr ><td  align='left'><span class='doc-prop'>Cast lens flares</span></td><td  align='left'>Enable or disable automatic lens flare generation.</td></tr>
</table>
<div class='vspace'></div><table width='100%'><tr ><td  align='left'><span class='doc-prop'>Intensity</span></td><td  align='left'>The global light intensity of the added light (affects bloom and lens flares).</td></tr>
<tr ><td  align='left'><span class='doc-prop'>Threshhold</span></td><td  align='left'>Regions of the image brighter than this threshold receive blooming (and potentially lens flares).</td></tr>
<tr ><td  align='left'><span class='doc-prop'>Blur iterations</span></td><td >The number of times gaussian blur is applied. More iterations improve smoothness but take extra time to process and hide small frequencies.</td></tr>
<tr ><td  align='left'><span class='doc-prop'>Blur spread</span></td><td  align='left'>The max radius of the blur. Does not affect performance.</td></tr>
<tr ><td  align='left'><span class='doc-prop'>Use alpha mask</span></td><td  align='left'>The degree to which the alpha channel acts as a mask for the bloom effect.</td></tr>
</table>
<div class='vspace'></div><table width='100%'><tr ><td  align='left'><span class='doc-prop'>Lens flare mode</span></td><td  align='left'>The type of lens flare. The options are <span class='doc-prop'>Ghosting</span>, <span class='doc-prop'>Anamorphic</span> or a mix of the two.</td></tr>
<tr ><td  align='left'><span class='doc-prop'>Lens flare mask</span></td><td >Mask used to prevent lens flare artifacts at screen edges.</td></tr>
<tr ><td  align='left'><span class='doc-prop'>Local intensity</span></td><td  align='left'>Local intensity used only for lens flares.</td></tr>
<tr ><td  align='left'><span class='doc-prop'>Local threshold</span></td><td  align='left'>The accumulative light intensity threshold that defines which image parts are candidates for lens flares.</td></tr>
<tr ><td  align='left'><span class='doc-prop'>Stretch width</span></td><td  align='left'>The width for anamorphic lens flares.</td></tr>
<tr ><td  align='left'><span class='doc-prop'>Blur iterations</span></td><td  align='left'>The number of times blurring is applied to anamorphic lens flares. More iterations improve smoothness but take more processing time.</td></tr>
<tr ><td  align='left'><span class='doc-prop'>Tint Color</span></td><td  align='left'>Color modulation for the anamorphic flare type.</td></tr>
<tr ><td  align='left'><span class='doc-prop'>1st-4th Color</span></td><td  align='left'>Color modulation for all lens flares when <span class='doc-prop'>Ghosting</span> or <span class='doc-prop'>Combined</span> is chosen.</td></tr>
</table>
<div class='vspace'></div><h2>Blend Modes: Add and Screen</h2>
<p>Blend modes determine the way that two images will be combined when overlaid. Each pixel from the base image is combined mathematically with the pixel in the corresponding position in the overlay image. Two blend modes are available for Unity image effects, Add and Screen.
</p>
<div class='vspace'></div><h3>Add Mode</h3>
<p>When the images are blended in Add mode, the values of the color channels (red, green and blue) are simply added together and clamped to the maximum value of 1. The overall effect is that areas of each image that aren't especially bright can easily blend to maximum brightness in the result. The final image tends to lose color and detail and so Add mode is useful when a dazzling "white out" effect is required.
</p>
<div class='vspace'></div><h3>Screen Mode</h3>
<p>Screen mode is so named because it simulates the effect of projecting the two source images onto a white screen simultaneously. Each color channel is combined separately but identically to the others. Firstly, the channel values of the two source pixels are inverted (ie, subtracted from 1). Then, the two inverted values are multiplied together and the result is inverted. The result is brighter than either of the two source pixels but it will be at maximum brightness only if one of the source colors was also. The overall effect is that more color variation and detail from the source images is preserved, leading to a gentler effect than Add mode.
</p>
<div class='vspace'></div><h2>Hardware support</h2>
<p>This effect requires a graphics card with pixel shaders (2.0) or OpenGL ES 2.0. PC: NVIDIA cards since 2003 (GeForce FX), AMD cards since 2004 (Radeon 9500), Intel cards since 2005 (GMA 900); Mobile: OpenGL ES 2.0; Consoles: Xbox 360, PS3.
</p>
<p class='vspace'>All image effects automatically disable themselves when they can not run on end-users graphics card.
</p>
</p><small>Page last updated: 2012-01-09</p>
    <script type="text/javascript">


    var allHTMLTags = new Array();
    document.divs = new Array();

    function getElementByClass(theClass) {

	    var allHTMLTags=document.getElementsByTagName("*");

	    for (var i=0; i<allHTMLTags.length; i++) {

		    if (allHTMLTags[i].className==theClass) {
			    return true;
		    }
	    }
	    return false;
    }

    function ShowHideDiv(containerName, className, content){
	var container = document.getElementById(containerName);
	if(container == null)
		return;
	if(content == '') {//In case there are no divs in the page we still can change the icons.
		if(containerName == 'desktopRef') {
			if(container.innerHTML == "<img src=\"../Images/DesktopNO.png\" alt=\"\">") {
				container.innerHTML = "<img src=\"../Images/DesktopYES.png\" alt=\"\">";
				SetCookie(containerName, 'set', 30);
			} else {
				container.innerHTML = "<img src=\"../Images/DesktopNO.png\" alt=\"\">";
				UnSetCookie(containerName);
			}
		}
		if(containerName == 'iosRef') {
			if(container.innerHTML == "<img src=\"../Images/iPhoneNO.png\" alt=\"\">") {
				container.innerHTML = "<img src=\"../Images/iPhoneYES.png\" alt=\"\">";
				SetCookie(containerName, 'set', 30);
			} else {
				container.innerHTML = "<img src=\"../Images/iPhoneNO.png\" alt=\"\">";
				UnSetCookie(containerName);
			}
		}
		if(containerName == 'androidRef') {
			if(container.innerHTML == "<img src=\"../Images/AndroidNO.png\" alt=\"\">") {
				container.innerHTML = "<img src=\"../Images/AndroidYES.png\" alt=\"\">";
				SetCookie(containerName, 'set', 30);
			} else {
				container.innerHTML = "<img src=\"../Images/AndroidNO.png\" alt=\"\">";
				UnSetCookie(containerName);
			}	
		}
	} else {
		if(container.innerHTML == "<h1><img src=\"../Images/PlatformArrowRight.png\" alt=\"\"> " + content + "</h1>") {
		container.innerHTML = "<h1><img src=\"../Images/PlatformArrowDown.png\" alt=\"\">" + content + "</h1>";
			SetCookie(containerName, 'set', 30);
		} else {
			container.innerHTML = "<h1><img src=\"../Images/PlatformArrowRight.png\" alt=\"\">" + content + "</h1>";
			UnSetCookie(containerName);
		}
	}
	for(var i = 0; i < document.divs.length; i++) {
		var divClassName = document.divs[i];
		var matched = false;
		if(divClassName.className == className)
			   matched = true;
		if(matched) {
			
			if(divClassName != null) {
				if (divClassName.style.display == 'block') {
					divClassName.style.display = 'none';
					if(content == '') {
						if(className == 'specific-desktop')
							container.innerHTML = "<img src=\"../Images/DesktopNO.png\" alt=\"\" />";
						if(className == 'specific-ios')
							container.innerHTML = "<img src=\"../Images/iPhoneNO.png\" alt=\"\" />";
						if(className == 'specific-android')
							container.innerHTML = "<img src=\"../Images/AndroidNO.png\" alt=\"\" />";
					} else {
						container.innerHTML = "<h1><img src=\"../Images/PlatformArrowRight.png\" alt=\"\" /> " + content + "</h1>";
					}
					UnSetCookie(containerName);
				} else {
					divClassName.style.display = 'block';
					if(content == '') {
						if(className == 'specific-desktop')
							container.innerHTML = "<img src=\"../Images/DesktopYES.png\" alt=\"\" />";
						if(className == 'specific-ios')
							container.innerHTML = "<img src=\"../Images/iPhoneYES.png\" alt=\"\" />";
						if(className == 'specific-android')
							container.innerHTML = "<img src=\"../Images/AndroidYES.png\" alt=\"\" />";
					} else {
						container.innerHTML = "<h1><img src=\"../Images/PlatformArrowDown.png\" alt=\"\" /> " + content + "</h1>";
					}
					SetCookie(containerName, 'set', 30);
				}
			}
		}	
        }			   
    }
    function UnSetCookie(cn) {
    	SetCookie(cn,'',30);
    }

    function GetCookie(cName) {
	if (document.cookie.length > 0) {
            cStart = document.cookie.indexOf(cName + "=");
	    if(cStart != -1) {
	        cStart = cStart + cName.length + 1;
	        cEnd = document.cookie.indexOf(";", cStart);
	        if (cEnd == -1) {
	            cEnd = document.cookie.length;
	        }
	        return unescape(document.cookie.substring(cStart, cEnd));;
	    }
	}
	return "";
    }

    function SetCookie(cName, value, expireDays) {
	var exDate = new Date();
	exDate.setDate(exDate.getDate()+expireDays);
	document.cookie = cName + "=" + escape(value) + ((expireDays ==null) ? "" : ";expires=" + exDate.toGMTString()) + ";path=/";
    }

    function DocLoaded() {
	document.divs = document.getElementsByTagName('div');
	var prefDesktop = GetCookie('desktopRef');
	var prefiOS = GetCookie('iosRef');
	var prefAndroid = GetCookie('androidRef');
	var firstTime = GetCookie('FT');
	if (firstTime == null || firstTime == "" ) {
	    SetCookie('FT', 'no', 30);
	    SetCookie('desktopRef', 'set', 30)
	} else if (prefDesktop == null || prefDesktop =="") {
	    if(getElementByClass('desktopRefIMG')) {
	        ShowHideDiv('desktopRef','specific-desktop','');
	    } else {
	        ShowHideDiv('desktopRef','specific-desktop','Desktop');
	    }
	}
	if (prefiOS == null || prefiOS =="") {
	    if(getElementByClass('iosRefIMG')) {
	        ShowHideDiv('iosRef','specific-ios','');
	    } else {
	        ShowHideDiv('iosRef','specific-ios','iOS');
	    }
	}
	if (prefAndroid == null || prefAndroid =="") {
	    if(getElementByClass('androidRefIMG')) {
	        ShowHideDiv('androidRef','specific-android','');
	    } else {
	        ShowHideDiv('androidRef','specific-android','Android');
	    }
	}	
    }
    </script>
    
		<!-- #TemplateEndEditable -->	

		<div class="nav">  </div>
	</div>
</div>
</body></html>
<!-- #EndTemplate -->
