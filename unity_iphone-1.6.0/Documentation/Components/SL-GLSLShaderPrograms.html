<!-- #BeginTemplate "/Templates/manual-page.dwt" --><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<!-- #TemplateBeginEditable name="doctitle" -->
		<title>Unity - GLSL Shader Programs</title>
	<!-- #TemplateEndEditable -->
</head>
<link rel="StyleSheet"  href="../Images/docs.css" type="text/css" />
<body>
<table class="titlebar" cellpadding=0 cellspacing=0 border=0><tr>
	<td class="titleleft"><img src="../Images/top/left.png"></td>
	<td><a href="../../Documentation.html"><img src="../Images/top/logo.png"></a></td>
	<td class="titlemid">
		<table><tr>
			<td class="doctitle">GLSL Shader Programs</td>
			<td class="Components" align="right"><a href="../Manual/index.html" title="Go to Unity manual"><img src="../Images/spacer.gif" width="72" height="36" class="manual" border="0"></a></td>
			<td class="Components" width="94"><a href="../Components/index.html" title="Go to Reference"><img src="../Images/spacer.gif" width="94" height="36" class="reference" border="0"></a></td>
			<td class="Components" width="82"><a href="../ScriptReference/index.html" title="Go to Scripting Reference"><img src="../Images/spacer.gif" width="82" height="36" class="scripting" border="0"></a></td>
		</tr><tr>
			<td colspan="4">
				<table width="100%" class="docpath"><tr><td >
		<!-- #TemplateBeginEditable name="path" -->
					<a href="../Components/index.html">Reference Manual</a> &gt; <a href="../Components/SL-Reference.html">ShaderLab Reference</a> &gt; <a href="../Components/SL-ShaderPrograms.html">Writing shader programs</a> &gt; <a href="../Components/SL-GLSLShaderPrograms.html">GLSL Shader Programs</a>
		<!-- #TemplateEndEditable -->	
				</td>
				</td><td class="switchlink">
					<!--BeginSwitchLink--><!--EndSwitchLink-->
				</td></tr></table>
			</td>
		</tr></table>
	</td>
	<td class="titleright" width="9"><img src="../Images/top/right.png"></td>
</tr></table>
<div class="manual">
	<div class="main">

		<!-- #TemplateBeginEditable name="navigation" -->
		<div class="nav">
		<div class="nav-prev">
			<a href='../Components/SL-BuiltinStateInPrograms.html'>
				<div class="nav-left"></div>
				<div class="nav-main">Previous</div>
				<div class="nav-right"></div>
			</a>
		</div>
	
		<div class="nav-next">
			<a href='../Components/SL-AdvancedTopics.html'>
				<div class="nav-left"></div>
				<div class="nav-main">Next</div>
				<div class="nav-right"></div>
			</a>
		</div>
	</div>
		<!-- #TemplateEndEditable -->	
		<!-- #TemplateBeginEditable name="title" -->
			<h1>GLSL Shader Programs</h1>
		<!-- #TemplateEndEditable -->	
		<!-- #TemplateBeginEditable name="body" -->
			
<p>In addition to using <a href="../Components/SL-ShaderPrograms.html">Cg shader programs</a>, OpenGL Shading Language (GLSL) shaders can be written.
</p>
<p class='vspace'>However, use of GLSL is only recommended for testing, or when you know you will only target Mac OS X. GLSL language is specific to OpenGL, whereas using Cg will compile shaders to both Direct3D and OpenGL. Using GLSL allows using more hardware features than possible with Cg, especially on recent hardware. On the other hand, at the moment GLSL implementations are somewhat lacking or buggy, so be warned!
</p>
<div class='vspace'></div><h2>GLSL snippets</h2>
<p>GLSL program snippets are written between <span class='doc-prop'>GLSLPROGRAM</span> and <span class='doc-prop'>ENDGLSL</span> keywords.
</p>
<p class='vspace'>In GLSL, all shader function entry points have to be called <span class='doc-prop'>main()</span>. When Unity loads the GLSL shader, it loads the source once for the vertex program, with <span class='doc-prop'>VERTEX</span> preprocessor define, and once more for the fragment program, with <span class='doc-prop'>FRAGMENT</span> preprocessor define. So the way to separate vertex and fragment program parts in GLSL snippet is to surround them with <span class='doc-prop'>#ifdef VERTEX</span> .. <span class='doc-prop'>#endif</span> and <span class='doc-prop'>#ifdef FRAGMENT</span> .. <span class='doc-prop'>#endif</span>. Each GLSL snippet must contain both a vertex program and a fragment program.
</p>
<p class='vspace'>At the start of the snippet compilation directives can be given as <span class='doc-prop'>#pragma</span> statements. Directives recognized by Unity are:
</p><ul><li><span class='doc-prop'>#pragma multi_compile_builtin</span> - for pixel-lit shaders; this will tell Unity to compile dozens of permutations of this shader program to support all light types and all shadowing options.
</li><li><span class='doc-prop'>#pragma multi_compile_builtin_noshadows</span> - for pixel-lit shaders that don't receive shadows; this will tell Unity to compile several permutations of this shader program to support all light types. This is faster to compile than the <span class='doc-prop'>multi_compile_builtin</span> pragma, and the resulting shader is smaller.
</li></ul><p class='vspace'>Standard include files match those provided for Cg shaders; they just have <span class='doc-prop'>.glslinc</span> extension: <span class='doc-prop'>UnityCG.glslinc</span> and <span class='doc-prop'>AutoLight.glslinc</span>.
</p>
<p class='vspace'>Vertex shader inputs come from predefined GLSL variables (gl_Vertex, gl_MultiTexCoord0, ...) or are user defined attributes. Usually only the tangent vector needs a user defined attribute:
</p><pre>    attribute vec4 Tangent;
</pre><p class='vspace'>Data from vertex to fragment programs is passed through <em>varying</em> variables, for example:
</p><pre>    varying vec3 lightDir; // vertex shader computes this, fragment shader uses this
</pre>

		<!-- #TemplateEndEditable -->	

		<div class="nav">
		<div class="nav-prev">
			<a href='../Components/SL-BuiltinStateInPrograms.html'>
				<div class="nav-left"></div>
				<div class="nav-main">Previous</div>
				<div class="nav-right"></div>
			</a>
		</div>
	
		<div class="nav-next">
			<a href='../Components/SL-AdvancedTopics.html'>
				<div class="nav-left"></div>
				<div class="nav-main">Next</div>
				<div class="nav-right"></div>
			</a>
		</div>
	</div>
	</div>
</div>
</body></html>
<!-- #EndTemplate -->
