<!-- #BeginTemplate "/Templates/manual-page.dwt" --><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<!-- #TemplateBeginEditable name="doctitle" -->
		<title>Unity - iPhone Hardware Guide</title>
	<!-- #TemplateEndEditable -->
</head>
<link rel="StyleSheet"  href="../Images/docs.css" type="text/css" />
<body>
<table class="titlebar" cellpadding=0 cellspacing=0 border=0><tr>
	<td class="titleleft"><img src="../images/top/left.png"></td>
	<td><a href="../../Documentation.html"><img src="../images/top/logo.png"></a></td>
	<td class="titlemid">
		<table><tr>
			<td class="doctitle">iPhone Hardware Guide</td>
			<td class="Manual" align="right"><a href="../Manual/index.html" title="Go to Unity manual"><img src="../images/spacer.gif" width="72" height="36" class="manual" border="0"></a></td>
			<td class="Manual" width="94"><a href="../Components/index.html" title="Go to Reference"><img src="../images/spacer.gif" width="94" height="36" class="reference" border="0"></a></td>
			<td class="Manual" width="82"><a href="../ScriptReference/index.html" title="Go to Scripting Reference"><img src="../images/spacer.gif" width="82" height="36" class="scripting" border="0"></a></td>
		</tr><tr>
			<td colspan="4">
				<table width="100%" class="docpath"><tr><td >
		<!-- #TemplateBeginEditable name="path" -->
					<a href="../Manual/index.html">Unity Manual</a> &gt; <a href="../Manual/iphone-GettingStarted.html">Getting Started with iPhone Development</a> &gt; <a href="../Manual/iphone-Hardware.html">iPhone Hardware Guide</a>
		<!-- #TemplateEndEditable -->	
				</td>
				</td><td class="switchlink">
					<!--BeginSwitchLink--><!--EndSwitchLink-->
				</td></tr></table>
			</td>
		</tr></table>
	</td>
	<td class="titleright" width="9"><img src="../images/top/right.png"></td>
</tr></table>
<div class="manual">
	<div class="main">

		<!-- #TemplateBeginEditable name="navigation" -->
		<div class="nav">
		<div class="nav-prev">
			<a href='../Manual/iphone-dotnet21.html'>
				<div class="nav-left"></div>
				<div class="nav-main">Previous</div>
				<div class="nav-right"></div>
			</a>
		</div>
	
		<div class="nav-next">
			<a href='../Manual/iphone-performance.html'>
				<div class="nav-left"></div>
				<div class="nav-main">Next</div>
				<div class="nav-right"></div>
			</a>
		</div>
	</div>
		<!-- #TemplateEndEditable -->	
		<!-- #TemplateBeginEditable name="title" -->
			<h1>iPhone Hardware Guide</h1>
		<!-- #TemplateEndEditable -->	
		<!-- #TemplateBeginEditable name="body" -->
			
<h2>Hardware models</h2>
<p>Following table summarizes hardware available in devices of various generations:
</p>
<div class='vspace'></div><h3>Common to all devices</h3>
<ul><li>320×480 LCD screen
</li><li>Built-in accelerometer
</li><li>Wi-Fi
</li></ul><div class='vspace'></div><h3>Original iPhone</h3>
<ul><li>ARM11, 412 Mhz CPU
</li><li>PowerVR MBX Lite 3D graphics processor
</li><li>128MB of memory
</li><li>2 megapixel camera
</li><li>Speaker &amp; microphone
</li><li>Vibration support
</li><li>Silent switch
</li></ul><div class='vspace'></div><h3>iPhone 3G</h3>
<ul><li>ARM11, 412 Mhz CPU
</li><li>PowerVR MBX Lite 3D graphics processor
</li><li>128MB of memory
</li><li>2 megapixel camera
</li><li>Speaker &amp; microphone
</li><li>GPS support
</li><li>Vibration support
</li><li>Silent switch
</li></ul><div class='vspace'></div><h3>iPhone 3GS</h3>
<ul><li>ARM Cortex A8, 600 MHz CPU
</li><li>PowerVR SGX graphics processor
</li><li>256MB of memory
</li><li>3 megapixel camera with video capture capability
</li><li>Speaker &amp; microphone
</li><li>GPS support
</li><li>Compass support
</li><li>Vibration support
</li><li>Silent switch
</li></ul><div class='vspace'></div><h3>iPod Touch 1st generation</h3>
<ul><li>ARM11, 412 Mhz CPU
</li><li>PowerVR MBX Lite 3D graphics processor
</li><li>128MB of memory
</li></ul><div class='vspace'></div><h3>iPod Touch 2nd generation</h3>
<ul><li>ARM11, 533 Mhz CPU
</li><li>PowerVR MBX Lite 3D graphics processor
</li><li>128MB of memory
</li><li>Speaker &amp; microphone
</li></ul><div class='vspace'></div><h2>Graphics Processing Unit</h2>
<p>iPhone graphics processing unit (GPU) is a Tile-Based Deferred Renderer. In contrast with most GPUs in desktop computers, the iPhone GPU focuses on minimizing the processing required to render an image as early in the processing of a scene as possible, so that only the pixels that actually will be seen consume processing resources.
</p>
<p class='vspace'>The GPU's frame buffer is divided up into tiles and rendering happens tile by tile. First, triangles for the whole frame are gathered and assigned to the tiles. Visible fragments of each triangle are chosen and only then are passed to rasterizer. Triangles occluded from the camera are rejected at this stage.
</p>
<p class='vspace'>Tile-Based Deferred Rendering consumes less memory bandwidth, has lower power consumption and utilizes texture cache better. Tile-Based Deferred Rendering allows the device to reject occluded fragments before actual rasterization which is effective to keep overdraw low.
</p>
<p class='vspace'>For more information see also:
</p><ul><li><a class='urllink' href='http://www.imgtec.com/factsheets/SDK/PowerVR%20Technology%20Overview.1.0.2e.External.pdf' rel='nofollow'>POWERVR MBX Technology Overview</a>
</li><li><a class='urllink' href='http://developer.apple.com/iphone/library/documentation/3DDrawing/Conceptual/OpenGLES_ProgrammingGuide/OpenGLESPlatforms/OpenGLESPlatforms.html#//apple_ref/doc/uid/TP40008793-CH106-SW1' rel='nofollow'>Apple Notes on iPhone GPU and OpenGL ES</a>
</li></ul><div class='vspace'></div><h2>Vertex Processing Unit</h2>
<p>iPhone has a dedicated unit responsible for vertex processing which runs calculations parallel with rasterization. In order to achieve better parallelization, the iPhone processes vertices one frame ahead of the rasterizer.
</p>
<p class='vspace'>Since vertex processing and rasterization are parallel, the time it takes to process a frame on GPU becomes the longest of the two.
</p>
<div class='vspace'></div><h2>Unified memory architecture</h2>
<p>Both CPU and GPU on the iPhone share the same memory. The advantage is that you don't need to worry about running out of video memory for your textures (unless of course you run out of main memory too). The disadvantage is that you share same memory bandwidth for gameplay and graphics. The more memory bandwidth you dedicate to graphics, less you will have for gameplay and physics.
</p>
<div class='vspace'></div><h2>Multimedia CoProcessing Unit</h2>
<p>The iPhone main CPU is equipped with a powerful SIMD (Single Instruction, Multiple Data) coprocessor either supporting VFP or NEON architectures. Unity iPhone run-time takes advantage of these units while calculating skinned mesh transformations or batching geometry.
</p>
<div class='vspace'></div><h2>Pixel performance</h2>
<h3>Alpha operations</h3>
<p>Alpha-blending on iPhone takes an advantage of Tile-Based Deferred Rendering since there is no additional memory bandwidth required for reading color values from the framebuffer. However alpha-blending can not take advantage of hidden surface removal and results in additional overdraw.
</p>
<p class='vspace'>Alpha-testing in contrary is very expensive on iPhone. Use alpa-blending instead if possible. If you absolutely need to use alpha-testing, make sure you minimize its usage.
</p>
<div class='vspace'></div><h3>Texturing</h3>
<p>Devices up to iPhone 3GS support 2 texture units and does not support pixel shaders. You can however combine two textures using combiners. You should always prefer combiners over multi-pass rendering on devices prior to iPhone 3GS. iPhone 3GS supports 8 texture units and pixel shaders. It also has twice the memory compared to previous generations (256MB).
</p>
<p class='vspace'>Although Tile-Based Deferred Rendering is well suited to take maximum advantage of the texture cache, the actual size of texture cache onboard is quite small. It is crucial to get texture sizes to a minimum. One way to do that is to use PVRTC hardware texture compression.
</p>
<p class='vspace'>iPhone support PVRTC4 texture compression with 4 bits per pixel and PVRTC2 with 2 bits per pixel. Both formats are supported for 3 channel RGB and 4 channel RGBA textures. The size of PVRTC4 is equivalent to DXT1 and PVRTC2 is two times smaller.
</p>
<p class='vspace'>The following table presents the time needed to sample uncompressed vs PVRTC compressed texture (these results applies to iPhone 3G and earlier):
</p><table width='100%'><tr ><td  align='left'>Single uncompressed 32bit (8bit per channel) RGBA texture</td><td  align='left'>3.8ms</td></tr>
<tr ><td  align='left'>Texture combiner using two uncompressed 32bit (8bit per channel) RGBA textures</td><td  align='left'>13.4ms</td></tr>
<tr ><td  align='left'>Single PVRTC 4bpp compressed texture (size equivalent to DXT1)</td><td  align='left'>1.1ms</td></tr>
<tr ><td  align='left'>Texture combiner using two PVRTC 4bpp compressed textures</td><td  align='left'>5.2ms</td></tr>
<tr ><td  align='left'>Texture combiner using two PVRTC 2bpp compressed textures</td><td  align='left'>4.8ms</td></tr>
</table>
<p class='vspace'>(Texture sampling performance was measured by rendering full-screen quad and applying 512x512 textures upside-down to stress texture cache a bit. To get pure sampling time without rasterization, time of rendering same full-screen quad with single color (which is around 7ms) was subtracted from results)
</p>
<p class='vspace'>Note that the PVRTC compressed texture sampling time is dramatically lower compared to non-compressed texture. Fitting in cache becomes extremely important once you sample from 2 textures simultaneously. You should always use smallest possible and PVRTC compressed textures.
</p>
<p class='vspace'>Sampling only one texture instead of two is always a good idea. Think about baking result of texture combiner directly into single texture. For example sometimes lightmap textures can be baked directly into the diffuse textures.
</p>
<div class='vspace'></div><h3>General rasterization</h3>
<p>Rasterizing single color full-screen quad takes around 7ms on iPhone. Rendering same full-screen quad, but with texture will add additional cost of actually sampling texture data.
</p>
<p class='vspace'>Following table presents approximate rasterization times of full-screen quad (these results applies to iPhone 3G and earlier):
</p><table width='100%'><tr ><td  align='left'>Single color</td><td >7.0ms</td></tr>
<tr ><td  align='left'>Single PVRTC 4 bpp textured</td><td >8.1ms</td></tr>
<tr ><td  align='left'>Combining two PVRTC 4bpp textures</td><td >13.2ms</td></tr>
</table>
<p class='vspace'>Due to Tile-Based Deferred Rendering you don't need to pay the additional cost of depth comparisons or reading the frame buffer. If you want to lay out one more alpha blended pass on top, you would increase your frame time twice. It is simple, no other costs.
</p>

		<!-- #TemplateEndEditable -->	

		<div class="nav">
		<div class="nav-prev">
			<a href='../Manual/iphone-dotnet21.html'>
				<div class="nav-left"></div>
				<div class="nav-main">Previous</div>
				<div class="nav-right"></div>
			</a>
		</div>
	
		<div class="nav-next">
			<a href='../Manual/iphone-performance.html'>
				<div class="nav-left"></div>
				<div class="nav-main">Next</div>
				<div class="nav-right"></div>
			</a>
		</div>
	</div>
	</div>
</div>
</body></html>
<!-- #EndTemplate -->
